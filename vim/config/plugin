source $DOTFILES/vim/.bundle/vim-plug/plug.vim

call plug#begin()
  Plug 'scrooloose/nerdtree'
  nmap <C-n> :NERDTreeToggle<CR>
  nnoremap <silent> <Leader>t :NERDTreeFocus<CR>
  nnoremap <silent> <Leader>f :NERDTreeFind<CR>
  let NERDTreeIgnore =['\.swp$']
  let NERDTreeQuitOnOpen=1

  Plug 'tpope/vim-surround'
  Plug 'ctrlpvim/ctrlp.vim'
  nnoremap <silent> <Leader>p :CtrlP<CR>
  nnoremap <silent> <Leader>b :CtrlPBuffer<CR>

  let g:ctrlp_custom_ignore = {
    \ 'dir':'\v[\/](node_modules|build|tmp|vendor|log)$',
    \ 'file': '\v\.(exe|so|dll|jpg|png)$',
    \ }

  let g:ctrlp_cache_dir = '/tmp/.cache/ctrlp'
  if executable('ag')
    let g:ctrlp_user_command = 'ag %s -l --nocolor -g ""'
  endif

  nmap <Leader>r :NERDTreeRefreshRoot<CR>:CtrlPClearCache<CR>

  Plug 'rking/ag.vim'
  Plug 'scrooloose/nerdcommenter'
  vnoremap <leader>/ :call NERDComment(0,"toggle")<CR>
  nnoremap <leader>/ :call NERDComment(0,"toggle")<CR>
  let g:NERDSpaceDelims = 1
  let g:NERDCompactSexyComs = 1
  let g:NERDDefaultAlign = 'left'

  Plug 'Yggdroot/indentLine'
  let g:indent_guides_enable_on_vim_startup = 1
  let g:indent_guides_exclude_filetypes = ['help', 'nerdtree']
  let g:indent_guides_start_level = 2

" For ruby development
  Plug 'vim-ruby/vim-ruby'
  Plug 'ngmy/vim-rubocop'
  Plug 'kana/vim-textobj-user'
  Plug 'rhysd/vim-textobj-ruby'
  Plug 'tpope/vim-rails'
  Plug 'tpope/vim-bundler'
  Plug 'tpope/vim-rake'

  Plug 'ludovicchabant/vim-gutentags'
  let g:gutentags_cache_dir = "/tmp/ctags"
  Plug 'vim-airline/vim-airline'
  Plug 'morhetz/gruvbox'
  let g:airline_powerline_fonts = 1
  set laststatus=2

  Plug 'vim-syntastic/syntastic'

  set statusline+=%#warningmsg#
  set statusline+=%{SyntasticStatuslineFlag()}
  set statusline+=%*

  let g:syntastic_always_populate_loc_list = 1
  let g:syntastic_auto_loc_list = 1
  let g:syntastic_check_on_open = 1
  let g:syntastic_check_on_wq = 0

  Plug 'tpope/vim-fugitive'
  Plug 'machakann/vim-highlightedyank'
  Plug 'talek/obvious-resize'
  let g:obvious_resize_default = 10
  noremap <silent> <C-K> :<C-U>ObviousResizeUp<CR>
  noremap <silent> <C-J> :<C-U>ObviousResizeDown<CR>
  noremap <silent> <C-H> :<C-U>ObviousResizeLeft<CR>
  noremap <silent> <C-L> :<C-U>ObviousResizeRight<CR>

  " Go
  Plug 'fatih/vim-go', { 'do': ':GoUpdateBinaries' }
  Plug 'sebdah/vim-delve'


  Plug 'neoclide/coc.nvim', {'branch': 'release', 'do': ':CocInstall coc-solargraph coc-go coc-json coc-python'}
  inoremap <silent><expr> <C-F> coc#refresh()

  nmap <silent> gd <Plug>(coc-definition)
  nmap <silent> <leader>rn <Plug>(coc-rename)

call plug#end()

colorscheme gruvbox
set bg=dark
let g:gruvbox_contrast_dark = "hard"
